<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Equity Trader</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4"></script>
<style>
* { margin:0; padding:0; box-sizing:border-box; }
body { background:#0f1117; color:#e2e8f0; font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',system-ui,sans-serif; padding:16px; max-width:1200px; margin:0 auto; }
h1 { font-size:1.4rem; margin-bottom:4px; }
.subtitle { color:#64748b; font-size:0.85rem; margin-bottom:20px; }
.cards { display:grid; grid-template-columns:repeat(auto-fit,minmax(160px,1fr)); gap:12px; margin-bottom:24px; }
.card { background:#1a1d25; border-radius:10px; padding:16px; }
.card-label { font-size:0.7rem; text-transform:uppercase; letter-spacing:1px; color:#64748b; margin-bottom:4px; }
.card-value { font-size:1.5rem; font-weight:700; }
.card-sub { font-size:0.75rem; color:#64748b; margin-top:2px; }
.section { background:#1a1d25; border-radius:10px; padding:20px; margin-bottom:16px; }
.section-title { font-size:1rem; font-weight:600; margin-bottom:12px; color:#94a3b8; text-transform:uppercase; letter-spacing:1px; font-size:0.75rem; }
table { width:100%; border-collapse:collapse; font-size:0.8rem; }
th { text-align:left; padding:8px; color:#64748b; border-bottom:1px solid #2d3343; font-size:0.7rem; text-transform:uppercase; letter-spacing:1px; }
td { padding:8px; border-bottom:1px solid #1e2230; }
.charts { display:grid; grid-template-columns:2fr 1fr; gap:16px; margin-bottom:16px; }
@media(max-width:768px) { .charts { grid-template-columns:1fr; } }
canvas { max-height:300px; }
.conf-bar { position:relative; background:#1e2230; border-radius:4px; height:20px; overflow:hidden; min-width:80px; }
.conf-fill { background:#3b82f6; height:100%; border-radius:4px; }
.conf-bar span { position:absolute; right:6px; top:2px; font-size:0.7rem; }
.report-section { max-height:500px; overflow-y:auto; }
.report-section h2 { font-size:1rem; color:#e2e8f0; margin:16px 0 8px; }
.report-section h3 { font-size:0.9rem; color:#94a3b8; margin:12px 0 6px; }
.report-section h4 { font-size:0.85rem; color:#94a3b8; margin:10px 0 4px; }
.report-section p { font-size:0.8rem; line-height:1.5; margin-bottom:8px; color:#cbd5e1; }
.report-section ul { padding-left:20px; margin-bottom:8px; }
.report-section li { font-size:0.8rem; line-height:1.5; color:#cbd5e1; margin-bottom:2px; }
.report-section hr { border:none; border-top:1px solid #2d3343; margin:16px 0; }
.report-section code { background:#2d3343; padding:1px 4px; border-radius:3px; font-size:0.75rem; }
.report-section .report-table { margin:8px 0; }
.report-section .report-table td { font-size:0.75rem; padding:4px 8px; }
.check { color:#4ade80; }
details { cursor:pointer; }
details summary { font-size:0.85rem; color:#60a5fa; padding:4px 0; }
.status-badge { display:inline-block; padding:2px 10px; border-radius:12px; font-size:0.7rem; font-weight:600; letter-spacing:1px; }
</style>
</head>
<body>
<h1>Daily Equity Trader</h1>
<div class="subtitle">Paper Trading | FTSE 100 | Last updated: 2026-02-19 | Status: <span class="status-badge" style="background:#facc1522;color:#facc15">NO_TRADES</span></div>

<div class="cards">
    <div class="card">
        <div class="card-label">Equity</div>
        <div class="card-value">£99.31</div>
        <div class="card-sub" style="color:#f87171">£-0.69 (-0.7%)</div>
    </div>
    <div class="card">
        <div class="card-label">Cash</div>
        <div class="card-value">£3.50</div>
    </div>
    <div class="card">
        <div class="card-label">Drawdown</div>
        <div class="card-value" style="color:#facc15">0.9%</div>
        <div class="card-sub">Limit: 15%</div>
    </div>
    <div class="card">
        <div class="card-label">Positions</div>
        <div class="card-value">3 / 5</div>
    </div>
</div>

<div class="charts">
    <div class="section">
        <div class="section-title">Equity Curve</div>
        <canvas id="equityChart"></canvas>
    </div>
    <div class="section">
        <div class="section-title">Allocation</div>
        <canvas id="sectorChart"></canvas>
    </div>
</div>

<div class="section">
    <div class="section-title">Positions</div>
    <div style="overflow-x:auto">
    <table>
        <thead><tr><th>Ticker</th><th>Sector</th><th>Qty</th><th>Avg Cost</th><th>Mkt Value</th><th>P&L</th><th>Days</th><th>Stop</th></tr></thead>
        <tbody><tr>
            <td><strong>AZN.L</strong></td>
            <td>Healthcare</td>
            <td>0.3879</td>
            <td>£155.38</td>
            <td>£59.31</td>
            <td style="color:#f87171">£-0.96 (-1.6%)</td>
            <td>1</td>
            <td>£151.25</td>
        </tr><tr>
            <td><strong>SHEL.L</strong></td>
            <td>Energy</td>
            <td>1.0624</td>
            <td>£28.70</td>
            <td>£31.28</td>
            <td style="color:#4ade80">£+0.79 (+2.6%)</td>
            <td>1</td>
            <td>£27.71</td>
        </tr><tr>
            <td><strong>GLEN.L</strong></td>
            <td>Materials</td>
            <td>1.0350</td>
            <td>£5.08</td>
            <td>£5.23</td>
            <td style="color:#f87171">£-0.03 (-0.6%)</td>
            <td>0</td>
            <td>£4.86</td>
        </tr></tbody>
    </table>
    </div>
</div>

<div class="section">
    <div class="section-title">Today's Candidates</div>
    <div style="overflow-x:auto">
    <table>
        <thead><tr><th>Ticker</th><th>Entry</th><th>Trend</th><th>Confidence</th><th>Status</th></tr></thead>
        <tbody><tr>
            <td><strong>SHEL.L</strong></td>
            <td>NONE</td>
            <td>FULL</td>
            <td><div class="conf-bar"><div class="conf-fill" style="width:0%"></div><span>0.00</span></div></td>
            <td style="color:#f87171">Position already held with days_held=1 (min_position_age_day</td>
        </tr><tr>
            <td><strong>RIO.L</strong></td>
            <td>NONE</td>
            <td>FULL</td>
            <td><div class="conf-bar"><div class="conf-fill" style="width:72%"></div><span>0.72</span></div></td>
            <td style="color:#f87171">Insufficient cash for position sizing. Required £0 (stop dis</td>
        </tr><tr>
            <td><strong>AZN.L</strong></td>
            <td>NONE</td>
            <td>FULL</td>
            <td><div class="conf-bar"><div class="conf-fill" style="width:68%"></div><span>0.68</span></div></td>
            <td style="color:#f87171">Position already held with days_held=1. Current price 152.90</td>
        </tr></tbody>
    </table>
    </div>
</div>

<div class="section">
    <div class="section-title">Trade History</div>
    <div style="overflow-x:auto">
    <table>
        <thead><tr><th>Date</th><th>Ticker</th><th>Action</th><th>Price</th><th>Qty</th><th>Confidence</th><th>Type</th></tr></thead>
        <tbody><tr>
            <td>2026-02-18</td>
            <td><strong>GLEN.L</strong></td>
            <td style="color:#4ade80">BUY</td>
            <td>£5.08</td>
            <td>1.0350</td>
            <td>0.74</td>
            <td>PULLBACK</td>
        </tr><tr>
            <td>2026-02-17</td>
            <td><strong>SHEL.L</strong></td>
            <td style="color:#4ade80">BUY</td>
            <td>£28.67</td>
            <td>1.0624</td>
            <td>0.72</td>
            <td>PULLBACK</td>
        </tr><tr>
            <td>2026-02-17</td>
            <td><strong>AZN.L</strong></td>
            <td style="color:#4ade80">BUY</td>
            <td>£155.22</td>
            <td>0.3879</td>
            <td>0.82</td>
            <td>BREAKOUT</td>
        </tr></tbody>
    </table>
    </div>
</div>

<div class="section">
    <div class="section-title">Daily Report</div>
    <details>
        <summary>Expand Claude's full analysis</summary>
        <div class="report-section"><h2>Daily Trading Report</h2>
<p><strong>Date:</strong> 2026-02-19</p>
<p><strong>Status:</strong> NO_TRADES</p>
<p><strong>Currency:</strong> GBP</p>
<p><strong>Execution Sequence:</strong> SELL_THEN_BUY</p>
<p><strong>Stop Execution Mode:</strong> DAILY_CHECK</p>
<hr>
<h3>Trading Calendar</h3>
<ul>
<li><strong>Is Trading Day:</strong> Yes</li>
<li><strong>Is Half Day:</strong> No</li>
<li><strong>Next Trading Day:</strong> 2026-02-20</li>
<li><strong>Bank Holidays (Next 5 Days):</strong> None</li>
</ul>
<hr>
<h3>Executive Summary</h3>
<p><strong>NO TRADES are being generated today due to a critical liquidity and risk management issue.</strong></p>
<p>The portfolio is in a precarious financial state:</p>
<ul>
<li><strong>Portfolio Value:</strong> £99.31 (down 0.88% from peak of £100.19)</li>
<li><strong>Cash Balance:</strong> £3.50</li>
<li><strong>Required Cash Buffer (3%):</strong> £2.98</li>
<li><strong>Available for Trading:</strong> £0.52</li>
</ul>
<p>This situation creates three blocking constraints:</p>
<ul>
<li><strong>Insufficient Liquidity for Position Sizing:</strong> Even the most attractive opportunities (e.g., RIO.L with 0.72 confidence) require position costs exceeding £250 once stamp duty and slippage are factored in. Available cash of £0.52 is entirely inadequate.</li>
</ul>
<ul>
<li><strong>Existing Positions at Extreme Risk:</strong> All three current positions are tightly bunched around their stop-loss prices with minimal downside margin:</li>
<li><strong>SHEL.L:</strong> Stop 27.71, Low 20-day 26.66 (only 1.05 pence gap)</li>
<li><strong>GLEN.L:</strong> Stop 4.86, Low 20-day 4.56 (only 0.30 pence gap) — CRITICAL</li>
<li><strong>AZN.L:</strong> Stop 151.25, still viable but underwater</li>
</ul>
<ul>
<li><strong>Turnover and Position Limit Constraints:</strong> Any new entry combined with potential stop-loss sales would violate max_turnover_pct_per_day (30%) and max_new_positions_per_day (1).</li>
</ul>
<hr>
<h3>Top 3 Setups Considered</h3>
<h4>1. RIO.L — Rio Tinto (Materials)</h4>
<ul>
<li><strong>Setup Type:</strong> PULLBACK in uptrend</li>
<li><strong>Confidence Score:</strong> 0.72 (composite)</li>
<li>Trend component: 1.0 (close &gt; SMA50 &gt; SMA200)</li>
<li>Setup component: 0.65 (drawdown_from_20d_high 4.08%, pullback timing favorable)</li>
<li>Risk/reward: 0.7 (stop distance 2.27 pence)</li>
<li>Liquidity: 0.92 (avg GBP volume £253M, excellent)</li>
<li>Diversification: 0.6 (Materials, but portfolio already 5.27% Materials)</li>
<li><strong>Price Data:</strong> Close 71.18, High 20-day 74.21, ATR14 2.27</li>
<li><strong>Rejection Reason:</strong> Insufficient cash. Position sizing requires ~£251.67 total outlay (notional ~£157 + stamp duty £78.65 + slippage £15.73). Available: £0.52. <strong>BLOCKED.</strong></li>
</ul>
<h4>2. AZN.L — AstraZeneca (Healthcare)</h4>
<ul>
<li><strong>Setup Type:</strong> None (existing position)</li>
<li><strong>Confidence Score:</strong> 0.68</li>
<li>Trend component: 1.0 (close &gt; SMA50 &gt; SMA200)</li>
<li>Setup component: 0.6 (modest pullback: 2.8% from 20-day high)</li>
<li>Risk/reward: 0.65</li>
<li>Liquidity: 0.93 (avg GBP volume £338M)</li>
<li>Diversification: 0.4 (Healthcare already 59.75% of portfolio)</li>
<li><strong>Price Data:</strong> Close 152.90, Entry 155.38, Stop 151.25 (only 1.65 pence below current)</li>
<li><strong>Rejection Reason:</strong> Existing position with days_held=1 (min_position_age_days=2). Anti-churn rule prevents immediate re-entry. Additionally, position is underwater (-£0.96 unrealised) and stop is extremely tight.</li>
</ul>
<h4>3. SHEL.L — Shell (Energy)</h4>
<ul>
<li><strong>Setup Type:</strong> None (existing position)</li>
<li><strong>Confidence Score:</strong> Not re-evaluated (already held)</li>
<li><strong>Price Data:</strong> Close 29.44, Entry 28.70, Stop 27.71, High 20-day 29.625</li>
<li><strong>Rejection Reason:</strong> Already held with days_held=1. Only minor profit (+£0.79 unrealised) but critical stop placement: 20-day low is 26.66, creating only 1.05 pence gap above stop. High gap risk in DAILY_CHECK mode.</li>
</ul>
<hr>
<h3>Risk Constraint Checks</h3>
<h4>Liquidity &amp; Cash</h4>
<table class="report-table"><tbody>
<tr><td>Check</td><td>Required</td><td>Current</td><td>Status</td></tr>
<tr><td>Cash buffer (3% of £99.31)</td><td>£2.98</td><td>£3.50</td><td><span class="check">&#10003;</span> PASS (marginal)</td></tr>
<tr><td>Available for new trades</td><td>£0.52+</td><td>£0.52</td><td><strong>✗ FAIL</strong></td></tr>
<tr><td>Min GBP volume filter</td><td>£50k/day</td><td>All pass</td><td><span class="check">&#10003;</span> PASS</td></tr>
<tr><td>Min price filter (£1.00)</td><td>All &gt; £1.00</td><td>All pass</td><td><span class="check">&#10003;</span> PASS</td></tr>
</tbody></table>
<h4>Position &amp; Exposure Limits</h4>
<table class="report-table"><tbody>
<tr><td>Constraint</td><td>Limit</td><td>Current</td><td>Status</td></tr>
<tr><td>Max positions</td><td>5</td><td>3</td><td><span class="check">&#10003;</span> PASS</td></tr>
<tr><td>Max new positions/day</td><td>1</td><td>0 planned</td><td><span class="check">&#10003;</span> PASS</td></tr>
<tr><td>Single name (AZN.L)</td><td>30%</td><td>59.75%</td><td><strong>✗ FAIL</strong></td></tr>
<tr><td>Sector (Healthcare)</td><td>40%</td><td>59.75%</td><td><strong>✗ FAIL</strong></td></tr>
<tr><td>Sector (Energy)</td><td>40%</td><td>31.52%</td><td><span class="check">&#10003;</span> PASS</td></tr>
<tr><td>Sector (Materials)</td><td>40%</td><td>5.27%</td><td><span class="check">&#10003;</span> PASS</td></tr>
</tbody></table>
<p><strong>Note:</strong> Portfolio concentration is dangerously high. AZN.L alone is 59.75% of portfolio, well above the 30% single-name limit. Healthcare sector is 59.75%, exceeding the 40% sector limit. This imbalance, combined with AZN.L being underwater and positioned close to its stop, creates additional risk.</p>
<h4>Turnover</h4>
<ul>
<li>Planned turnover: 0% (no new trades)</li>
<li>Max allowed: 30% of £99.31 = £29.79</li>
<li><strong>Status:</strong> <span class="check">&#10003;</span> PASS (but irrelevant given no trades)</li>
</ul>
<h4>Stop-Loss Monitoring (DAILY_CHECK Mode)</h4>
<table class="report-table"><tbody>
<tr><td>Ticker</td><td>Current</td><td>Stop</td><td>Distance</td><td>20-day Low</td><td>Gap Risk</td><td>Status</td></tr>
<tr><td>SHEL.L</td><td>29.44</td><td>27.71</td><td>+1.73p</td><td>26.66</td><td>HIGH</td><td>MONITOR</td></tr>
<tr><td>AZN.L</td><td>152.90</td><td>151.25</td><td>+1.65p</td><td>133.25</td><td>MODERATE</td><td>MONITOR</td></tr>
<tr><td>GLEN.L</td><td>5.05</td><td>4.86</td><td>+0.19p</td><td>4.56</td><td><strong>CRITICAL</strong></td><td>MONITOR</td></tr>
</tbody></table>
<p><strong>Critical Alert:</strong> GLEN.L has a 20-day low of 4.56 pence, only 0.30 pence below its stop of 4.86. This is an extremely tight margin. Any weakness that revisits the 20-day low will trigger the stop-loss. The position was entered yesterday (days_held=0) and is already underwater (entry 5.08, current 5.05). <strong>Recommend immediate review.</strong></p>
<h4>Portfolio Drawdown</h4>
<ul>
<li><strong>Current Drawdown:</strong> 0.88% [(£100.19 - £99.31) / £100.19]</li>
<li><strong>Limit:</strong> 15%</li>
<li><strong>Status:</strong> <span class="check">&#10003;</span> PASS (well within limit)</li>
<li><strong>Note:</strong> Drawdown is minimal in percentage terms but portfolio is operationally insolvent due to cash constraints, not mark-to-market loss.</li>
</ul>
<hr>
<h3>Portfolio Snapshot</h3>
<h4>Current Positions</h4>
<table class="report-table"><tbody>
<tr><td>Ticker</td><td>Quantity</td><td>Avg Cost (GBP)</td><td>Current Price (GBP)</td><td>Market Value (GBP)</td><td>Unrealised P&amp;L (GBP)</td><td>Entry Date</td><td>Days Held</td><td>Stop (GBP)</td><td>Status</td></tr>
<tr><td>AZN.L</td><td>0.3879</td><td>155.38</td><td>152.90</td><td>59.31</td><td>-0.96</td><td>2026-02-17</td><td>1</td><td>151.25</td><td>ACTIVE</td></tr>
<tr><td>SHEL.L</td><td>1.0624</td><td>28.70</td><td>29.44</td><td>31.28</td><td>+0.79</td><td>2026-02-17</td><td>1</td><td>27.71</td><td>ACTIVE</td></tr>
<tr><td>GLEN.L</td><td>1.0350</td><td>5.08</td><td>5.05</td><td>5.23</td><td>-0.03</td><td>2026-02-18</td><td>0</td><td>4.86</td><td>ACTIVE</td></tr>
</tbody></table>
<p><strong>Portfolio Composition:</strong></p>
<ul>
<li>Healthcare: 59.75% (OVER LIMIT)</li>
<li>Energy: 31.52%</li>
<li>Materials: 5.27%</li>
<li>Utilities/Other: 3.46% (cash)</li>
</ul>
<p><strong>Total Equity Value:</strong> £99.31</p>
<p><strong>Total Cash:</strong> £3.50</p>
<p><strong>Net Liquid Assets:</strong> £102.81</p>
<hr>
<h3>Cost Assumptions</h3>
<p><strong>Fee Model:</strong> Per-trade, £0 per transaction</p>
<p><strong>Stamp Duty:</strong> 0.5% on UK equity purchases only (ETFs exempt)</p>
<p><strong>Slippage Assumption:</strong> 10 basis points (0.1%) on entry/exit notional</p>
<p><strong>Settlement:</strong> T+1 (1 day), assume_intraday_netting = false (today&#x27;s sell proceeds NOT available for today&#x27;s buys)</p>
<hr>
<h3>Gap Risk Acknowledgement (DAILY_CHECK Mode)</h3>
<p><strong>Critical:</strong> The bot monitors stop-losses once daily. Overnight gaps, opening gaps, or intraday moves can bypass stops entirely. Examples from today&#x27;s positions:</p>
<ul>
<li><strong>SHEL.L:</strong> If market opens below 27.71 (20-day low is 26.66), stop would be executed at market price, potentially 0–1.05 pence lower than stop price.</li>
<li><strong>GLEN.L:</strong> Gap risk is CRITICAL. 20-day low 4.56 is 0.30 pence below stop 4.86. Any overnight weakness risks execution at or below 4.60, triggering a loss on top of the existing -£0.03 unrealised loss.</li>
</ul>
<p><strong>Mitigation:</strong> Use broker GTC (Good-Till-Cancelled) stops if available, or accept that worst-case execution in a gap scenario may be at the 20-day low.</p>
<hr>
<h3>What Could Invalidate This Plan?</h3>
<ul>
<li><strong>Gap up in AZN.L or SHEL.L:</strong> If either stock rallies sharply at open, reducing stop-loss risk and freeing up mental capital for new entries.</li>
<li><strong>Sudden cash injection:</strong> Dividend, corporate action, or external deposit would relax liquidity constraints.</li>
<li><strong>Stop-loss execution(s):</strong> If GLEN.L stops out at market, would free ~£5 and allow a modest new position entry (though turnover constraints would still apply).</li>
<li><strong>Market-wide reversal:</strong> If LSE 100 weakens significantly, all three holdings could approach stops simultaneously, forcing rapid liquidation at disadvantageous prices.</li>
<li><strong>Data quality issue:</strong> If today&#x27;s market data proves stale (older than 2026-02-19), the plan would be invalidated and re-run.</li>
</ul>
<hr>
<h3>Data Quality Notes</h3>
<ul>
<li><span class="check">&#10003;</span> Market data is fresh (as_of_date = 2026-02-19 = today)</li>
<li><span class="check">&#10003;</span> All required pre-computed indicator columns present</li>
<li><span class="check">&#10003;</span> No DELISTING or SUSPENDED statuses in universe</li>
<li><span class="check">&#10003;</span> No missing or null values in key fields (SMA50, SMA200, ATR14 all provided)</li>
<li><span class="check">&#10003;</span> Trading calendar confirms LSE is open today</li>
<li>⚠ WARNING: Very high concentration in AZN.L (59.75%) violates max_single_name_exposure_pct (30%). This is a pre-existing portfolio state, not a new-trade issue, but represents elevated idiosyncratic risk.</li>
</ul>
<hr>
<h3>Disclaimer</h3>
<p><strong>This is an automated, rules-based trading plan generated from provided historical market data. It is NOT financial advice.</strong></p>
<p>Execution risks, overnight gaps, slippage, FX effects (if any), settlement timing, taxes, and fees all apply. Stop-losses in DAILY_CHECK mode are monitored once daily and cannot protect against intraday or overnight price gaps. Actual execution prices may differ materially from planned prices. Use this plan at your own risk and always consult a qualified financial advisor before trading.</p>
<p>The portfolio&#x27;s tight stop placements and critical cash shortage mean that a single adverse market move could trigger cascading liquidations. Risk management should be reviewed immediately.</p>
<hr></div>
    </details>
</div>

<div style="text-align:center;color:#475569;font-size:0.7rem;margin-top:24px;padding-bottom:16px">
    Daily Equity Trader | Paper Trading | Not financial advice
</div>

<script>
const equityData = [{"date": "2026-02-17", "equity_gbp": 99.46, "cash_gbp": 8.79, "positions_count": 2, "drawdown_pct": 0.54}, {"date": "2026-02-18", "equity_gbp": 100.17, "cash_gbp": 3.5, "positions_count": 3, "drawdown_pct": 0.02}];
const sectorLabels = ["Healthcare", "Energy", "Materials", "Cash"];
const sectorValues = [59.31, 31.28, 5.23, 3.5];
const sectorColors = ["#22c55e", "#f97316", "#eab308", "#475569"];

// Equity curve
if (equityData.length > 0) {
    new Chart(document.getElementById('equityChart'), {
        type: 'line',
        data: {
            labels: equityData.map(d => d.date),
            datasets: [{
                label: 'Equity (£)',
                data: equityData.map(d => d.equity_gbp),
                borderColor: '#3b82f6',
                backgroundColor: 'rgba(59,130,246,0.1)',
                fill: true,
                tension: 0.3,
                pointRadius: equityData.length > 30 ? 0 : 3,
            }, {
                label: 'Starting Capital',
                data: equityData.map(() => 100),
                borderColor: '#475569',
                borderDash: [5,5],
                pointRadius: 0,
                fill: false,
            }]
        },
        options: {
            responsive: true,
            plugins: { legend: { labels: { color: '#94a3b8', font: { size: 11 } } } },
            scales: {
                x: { ticks: { color: '#64748b', maxRotation: 45, font: { size: 10 } }, grid: { color: '#1e2230' } },
                y: { ticks: { color: '#64748b', callback: v => '£' + v, font: { size: 10 } }, grid: { color: '#1e2230' } }
            }
        }
    });
} else {
    document.getElementById('equityChart').parentElement.innerHTML += '<p style="color:#64748b;font-size:0.8rem;text-align:center;margin-top:40px">No equity history yet. Data will appear after the first run.</p>';
}

// Sector allocation
if (sectorValues.length > 0) {
    new Chart(document.getElementById('sectorChart'), {
        type: 'doughnut',
        data: {
            labels: sectorLabels,
            datasets: [{ data: sectorValues, backgroundColor: sectorColors, borderWidth: 0 }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: { position: 'bottom', labels: { color: '#94a3b8', font: { size: 10 }, padding: 8 } }
            }
        }
    });
}
</script>
</body>
</html>